---
layout: post
title: Tags
permalink: /tags/
description: "Halaman filter tags"
---

<div class="tags-header" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; margin-bottom: 30px;">
  <h1 id="tag-title" style="margin-top:0;">All Posts</h1>
  <button id="show-all" style="padding: 8px 16px; cursor: pointer; border-radius: 6px; border: 1px solid #3b82f6; background: transparent; color: #3b82f6;">Show All</button>
</div>

<script>
// Fungsi ini harus global agar bisa dipanggil dari router utama
window.handleTags = function() {
  const hash = decodeURIComponent(location.hash.replace('#', ''));
  const title = document.getElementById('tag-title');
  const tagsPageUrl = '/tags/';

  // Ambil semua elemen post di halaman
  document.querySelectorAll('.post').forEach(post => {
    // Abaikan elemen kontroler (halaman tags itu sendiri)
    if (post.dataset.url === tagsPageUrl) return;

    const tags = post.dataset.tags ? post.dataset.tags.split(',') : [];
    
    if (hash === '') {
      post.style.display = 'block';
    } else {
      post.style.display = tags.includes(hash) ? 'block' : 'none';
    }
  });

  if (title) title.textContent = hash ? `Tag: #${hash}` : 'All Posts';
};

// Pasang listener untuk tombol All
document.getElementById('show-all')?.addEventListener('click', () => {
  location.hash = '';
});

// Listener untuk klik tombol tag di dalam artikel
document.addEventListener('click', (e) => {
  const btn = e.target.closest('.tag');
  if (btn && btn.dataset.tag) {
    location.hash = btn.dataset.tag;
  }
});

// Dengarkan perubahan hash
window.addEventListener('hashchange', window.handleTags);
</script>
