---
layout: post
title: Tags
permalink: /tags/
description: "Halaman filter tags"
---

<div class="tags-header" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; margin-bottom: 30px;">
  <h1 id="tag-title" style="margin-top:0;">All Posts</h1>
  <button id="show-all" style="padding: 8px 16px; cursor: pointer; border-radius: 6px; border: 1px solid #3b82f6; background: transparent; color: #3b82f6;">Show All</button>
</div>

<script>
// Kita buat fungsi yang menerima parameter 'forcedTag'
window.handleTags = function(forcedTag = null) {
  // Ambil hash dari parameter ATAU dari URL jika parameter kosong
  let hash = forcedTag || decodeURIComponent(location.hash.replace('#', ''));
  hash = hash.trim().toLowerCase();
  
  const title = document.getElementById('tag-title');
  const tagsPageUrl = '/tags/';

  console.log("Filter dijalankan untuk tag:", hash);

  const posts = document.querySelectorAll('.post');
  if (posts.length === 0) return; // Jika belum ada post, berhenti

  posts.forEach(post => {
    // Abaikan halaman tags itu sendiri
    if (post.dataset.url === tagsPageUrl || post.dataset.url?.includes('tags')) {
      post.style.display = 'block';
      return;
    }

    const rawTags = post.getAttribute('data-tags') || "";
    const tagsArray = rawTags.split(',').map(t => t.trim().toLowerCase());
    
    if (hash === '') {
      post.style.display = 'block';
    } else {
      post.style.display = tagsArray.includes(hash) ? 'block' : 'none';
    }
  });

  if (title) title.textContent = hash ? `Tag: #${hash}` : 'All Posts';
};

// Pasang listener hashchange agar tetap jalan jika diklik dari dalam halaman tags
window.addEventListener('hashchange', () => window.handleTags());

// Klik delegasi untuk tombol
document.addEventListener('click', (e) => {
  if (e.target.id === 'show-all') location.hash = '';
});
</script>
