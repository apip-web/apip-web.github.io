---
layout: post
title: Tags
permalink: /tags/
description: "Halaman berisi tag otomatis"
---

<h1 id="tag-title">All Posts</h1>

<div id="posts">
  {% for post in site.posts %}
    <article class="post" data-url="/tags/" data-tags="{{ post.tags | join: ',' }}">
      <h2>
        <a href="{{ post.url }}">{{ post.title }}</a>
      </h2>

      <div class="post-tags">
        {% for tag in post.tags %}
          <button class="tag" data-tag="{{ tag }}">#{{ tag }}</button>
        {% endfor %}
      </div>
    </article>
  {% endfor %}
</div>

<script>
function handleTags() {
  const hash = decodeURIComponent(location.hash.replace('#', ''));
  const title = document.getElementById('tag-title');
  
  // Ambil semua post yang ada di DOM saat ini
  document.querySelectorAll('.post').forEach(post => {
    const tags = post.dataset.tags ? post.dataset.tags.split(',') : [];
    // Jika tidak ada hash, tampilkan semua. Jika ada, filter berdasarkan tag.
    if (hash === '') {
      post.style.display = 'block';
    } else {
      post.style.display = tags.includes(hash) ? 'block' : 'none';
    }
  });

  if (title) title.textContent = hash ? `Tag: #${hash}` : 'All Posts';
}

// Jalankan saat hash berubah (dari klik link di halaman lain)
window.addEventListener('hashchange', handleTags);

// Tombol Show All
document.getElementById('show-all')?.addEventListener('click', () => {
  location.hash = '';
});

// Jalankan langsung saat script ini dimuat oleh SPA
handleTags();
</script>

<button id="show-all">All</button>
